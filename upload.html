<!doctype html>
<html>
	<head>
		<title>个人小站 - 上传图像</title>
		<meta charset="utf-8" content="width=device-width, initial-scale=1" name="viewport">
		<link rel="stylesheet" href="sources/css/style.css">
		<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
		<script src="sources/js/script.js"></script>
		<script src="sources/js/upload.js"></script>
		<script>
			$(document).ready(() => {
				$("#img-file").on("change", () => {
					canUpload();
					// 这里稍微的人性化了一下
					if (document.forms[1][0].checkValidity()) {
						$("#name").val(document.forms[1][0].files[0].name);
					}
				});
				$("#name").on("input", canUpload);
				$("#token").on("input", canUpload);
				$("#desp").on("input", canUpload);
				$("#submit-upload").on("click", () => {
					onImagesList(uploadFile);
				});
			});
		</script>
	</head>
	<body>
		<div class="navbar navbar-light bg-light">
			<div class="container-fluid">
				<a class="navbar-brand" href=".">个人小站</a>
				<form class="d-flex">
					<a class="btn" href="javascript:void(0);">
						<span class="bi bi-upload" style="font-size: 120%"></span>
					</a>
				</form>
			</div>
		</div>
		<div class="content">
			<h1 align="center">上传图像</h1>
			<p class="pay-attention mt-3">
			<b>请注意：</b>本站的全部文字及图像在无特殊说明时在CC BY-SA 4.0协议之条款下提供。请阁下在上传前再次确认是否有非自由许可授权之图像。<br>
			<b>该页面只能用于上传图像，望知晓。</b>
			</p>
		</div>
		<form class="upload mb-3" id="upload-form" onsubmit="return false;">
			<div class="mb-3 ps-3 pe-3 pt-3">
				请填写完成下列表单，在<code>上传</code>按钮变为可用时可点击按钮上传。
			</div>
			<div class="split"></div>
			<div class="mb-3 ps-3 pe-3 pt-3">
				<label class="form-label" for="img-file">图片文件：</label>
				<input accept="image/*" class="form-control" id="img-file" name="file" type="file" required>
				<span class="form-text">最好选用png与svg格式，所有图片格式亦受支持。</span>
			</div>
			<div class="mb-3 ps-3 pe-3">
				<label class="form-label" for="name">文件名：</label>
				<input class="form-control" id="name" name="name" placeholder="输入文件名" type="text" required>
			</div>
			<div class="mb-3 ps-3 pe-3">
				<label class="form-label" for="token">您的GitHub令牌：</label>
				<input class="form-control" id="token" name="token" placeholder="输入您的令牌" type="text" required>
				<span class="form-text">没有该令牌，您将无法上传。</span>
			</div>
			<div class="mb-3 ps-3 pe-3">
				<label class="form-label" for="desp">描述一下该图片：</label>
				<textarea class="form-control" id="desp" name="desp" rows="3"></textarea>
			</div>
			<div class="form-check mb-3 ms-3">
				<input class="form-check-input" id="is-daily-img" type="checkbox" value="">
				<label class="form-check-label" for="is-daily-img">加入至每日图片（每日图片会在首页展示）</label>
			</div>
			<div class="mb-3 ps-3 pe-3 d-flex justify-content-end">
				<button class="btn btn-primary" id="submit-upload" type="submit" disabled>上传</button>
			</div>
		</form>
		<div class="split"></div>
		<p class="copyleft-note">
		非特殊说明，本站的全部文字及图像在<a href="http://creativecommons.org/licenses/by-sa/4.0">知识共享 署名-相同方式共享 4.0协议</a>之条款下提供。
		</p>
	</body>
</html>
